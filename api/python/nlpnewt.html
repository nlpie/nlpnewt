

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>nlpnewt &mdash; nlpnewt development0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to nlpnewt’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> nlpnewt
          

          
          </a>

          
            
            
              <div class="version">
                development0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">nlpnewt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#command-line-utility">Command-Line Utility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-events-service">Running Events Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-processors">Running Processors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api-documentation">API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#events-service-client-documents">Events service client, documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#labels-on-text">Labels on text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-label-types">Custom Label Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-processors">Creating Processors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-services">Running Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-a-pipeline">Running a pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">nlpnewt</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>nlpnewt</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/nlpnewt.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-nlpnewt">
<span id="nlpnewt"></span><h1>nlpnewt<a class="headerlink" href="#module-nlpnewt" title="Permalink to this headline">¶</a></h1>
<div class="section" id="command-line-utility">
<h2>Command-Line Utility<a class="headerlink" href="#command-line-utility" title="Permalink to this headline">¶</a></h2>
<div class="section" id="running-events-service">
<h3>Running Events Service<a class="headerlink" href="#running-events-service" title="Permalink to this headline">¶</a></h3>
<p>usage:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>python -m nlpnewt events [-h] [--address ADDRESS] [--port PORT]
                         [--workers WORKERS] [--register] [--config CONFIG]

optional arguments:
 -h, --help            show this help message and exit
 --address ADDRESS, -a ADDRESS
                       the address to serve the service on
 --port PORT, -p PORT  the port to serve the service on
 --workers WORKERS, -w WORKERS
                       number of worker threads to handle requests
 --register, -r        whether to register the service with the configured
                       service discovery
 --config CONFIG, -c CONFIG
                       path to config file
</pre></div>
</div>
</div>
<div class="section" id="running-processors">
<h3>Running Processors<a class="headerlink" href="#running-processors" title="Permalink to this headline">¶</a></h3>
<p>usage:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>python -m nlpnewt processor [-h] [--address ADDRESS] [--port PORT]
                            [--workers WORKERS] [--register]
                            [--config CONFIG]
                            [--events-address EVENTS_ADDRESS] --name NAME
                            [--module MODULE]
                            [args [args ...]]

positional arguments:
 args                  args that will be passed to the processor

optional arguments:
 -h, --help            show this help message and exit
 --address ADDRESS, -a ADDRESS
                       the address to serve the service on
 --port PORT, -p PORT  the port to serve the service on
 --workers WORKERS, -w WORKERS
                       number of worker threads to handle requests
 --register, -r        whether to register the service with the configured
                       service discovery
 --config CONFIG, -c CONFIG
                       path to config file
 --events-address EVENTS_ADDRESS, --events EVENTS_ADDRESS, -e EVENTS_ADDRESS
                       address of the events service to use, omit to use
                       discovery
 --name NAME, -n NAME  The name the processor is registered under using
                       the processor decorator.
 --module MODULE, -m MODULE
                       A python module to load to trigger the
                       processor decorator
</pre></div>
</div>
</div>
</div>
<div class="section" id="api-documentation">
<h2>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="events-service-client-documents">
<h3>Events service client, documents<a class="headerlink" href="#events-service-client-documents" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="nlpnewt.Events">
<em class="property">class </em><code class="descclassname">nlpnewt.</code><code class="descname">Events</code><span class="sig-paren">(</span><em>address=None</em>, <em>*</em>, <em>stub=None</em>, <em>client=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#Events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Events" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object that can be used for making requests to an events service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The events service target e.g. ‘localhost:9090’ or omit/None to use service discovery.</p></li>
<li><p><strong>stub</strong> (<em>EventsStub</em>) – An existing events service client stub to use.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Use service discovery to create connection:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">nlpnewt</span><span class="o">.</span><span class="n">Events</span><span class="p">()</span> <span class="k">as</span> <span class="n">events</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># use events</span>
</pre></div>
</div>
<p>Use address to create connection:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">nlpnewt</span><span class="o">.</span><span class="n">Events</span><span class="p">(</span><span class="s1">&#39;localhost:9090&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">events</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># use events</span>
</pre></div>
</div>
<dl class="method">
<dt id="nlpnewt.Events.create_event">
<code class="descname">create_event</code><span class="sig-paren">(</span><em>event_id: str = None</em><span class="sig-paren">)</span> &#x2192; nlpnewt.events.Event<a class="reference internal" href="_modules/nlpnewt/events.html#Events.create_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Events.create_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an event on the events service, failing if an event already exists with the
specified ID, returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Event</span></code> object that can be used to access and manipulate data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – A globally-unique identifier for the event, or omit / none for a random UUID.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A newly initialized event.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.events.Event" title="nlpnewt.events.Event">Event</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the event already exists on the server.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.Events.open_event">
<code class="descname">open_event</code><span class="sig-paren">(</span><em>event_id: str = None</em><span class="sig-paren">)</span> &#x2192; nlpnewt.events.Event<a class="reference internal" href="_modules/nlpnewt/events.html#Events.open_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Events.open_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens or creates an event on the events service and returns an Event object that can be
used to access and manipulate data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – A globally-unique identifier for the event, or omit / none for a random UUID.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Event object for interacting with the event.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.events.Event" title="nlpnewt.events.Event">Event</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.events.Event">
<em class="property">class </em><code class="descclassname">nlpnewt.events.</code><code class="descname">Event</code><span class="sig-paren">(</span><em>client: nlpnewt.events._EventsClient</em>, <em>event_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#Event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>The object created by <code class="xref py py-func docutils literal notranslate"><span class="pre">open_event()</span></code> or <code class="xref py py-func docutils literal notranslate"><span class="pre">create_event()</span></code> to interact
with a specific event on the events service.</p>
<p>The Event object functions as a map from string document names to <a class="reference internal" href="#nlpnewt.events.Document" title="nlpnewt.events.Document"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Document</span></code></a> objects that
can be used to access document data from the events server.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">events</span><span class="o">.</span><span class="n">open_event</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">event</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># use event</span>
</pre></div>
</div>
<dl class="method">
<dt id="nlpnewt.events.Event.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>document_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#Event.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Event.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an object for interacting with an existing document on this event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>document_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The document_name identifier.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object that is set up to connect to the events service to retrieve data and
modify the document with the <cite>document_name</cite> on this event.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.events.Document" title="nlpnewt.events.Document">Document</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plaintext_document</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="s1">&#39;plaintext&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plaintext_document</span><span class="o">.</span><span class="n">text</span>
<span class="go">&#39;The quick brown fox jumped over the lazy dog.&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.events.Event.add_document">
<code class="descname">add_document</code><span class="sig-paren">(</span><em>document_name: str</em>, <em>text: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#Event.add_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Event.add_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a document to the event keyed by the document_name and
containing the specified text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>document_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The event-unique identifier for the document, example: ‘plaintext’.</p></li>
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The content of the document. This is a required field, document text is final and
immutable, as changing the text very likely would invalidate any labels on the document.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object that is set up to connect to the events service to retrieve data and
modify the document with the <cite>document_name</cite> on this event.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.events.Document" title="nlpnewt.events.Document">Document</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.events.Event.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#Event.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Event.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes this event. Lets the event service know that we are done with the event,
allowing to clean up the event if everyone is done with it.</p>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.events.Event.created_indices">
<code class="descname">created_indices</code><a class="headerlink" href="#nlpnewt.events.Event.created_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a map of label indices that have been added to any document on this event.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary of string <code class="docutils literal notranslate"><span class="pre">document_name</span></code> to lists of string <code class="docutils literal notranslate"><span class="pre">index_name</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.events.Event.event_id">
<code class="descname">event_id</code><a class="headerlink" href="#nlpnewt.events.Event.event_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the globally unique identifier for this event.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The event ID.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.events.Event.metadata">
<code class="descname">metadata</code><a class="headerlink" href="#nlpnewt.events.Event.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an object that can be used to query and add metadata to the object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An object containing the metadata</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.7)">typing.MutableMapping</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.events.Document">
<em class="property">class </em><code class="descclassname">nlpnewt.events.</code><code class="descname">Document</code><span class="sig-paren">(</span><em>client: nlpnewt.events._EventsClient</em>, <em>event: nlpnewt.events.Event</em>, <em>document_name: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#Document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Document" title="Permalink to this definition">¶</a></dt>
<dd><p>An object returned by <a class="reference internal" href="#nlpnewt.events.Event.__getitem__" title="nlpnewt.events.Event.__getitem__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__getitem__()</span></code></a> or <a class="reference internal" href="#nlpnewt.events.Event.add_document" title="nlpnewt.events.Event.add_document"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_document()</span></code></a>
for accessing document data.</p>
<p>Documents are keyed by their name, this is to allow pipelines to store different pieces of
related text on a single processing event. An example would be storing the text of one language
on one document, and the text of another language on another, or, for example, storing the
plaintext.</p>
<p>Both label indices, once added, and the document text are immutable. This is to enable
parallelization and distribution of processing, and to prevent changes to upstream data that
has already been used in the creation of downstream data.</p>
<dl class="attribute">
<dt id="nlpnewt.events.Document.created_indices">
<code class="descname">created_indices</code><a class="headerlink" href="#nlpnewt.events.Document.created_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the newly created label indices on this document using a labeler.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of all of the label indices that have created on this document using a labeler.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.events.Document.document_name">
<code class="descname">document_name</code><a class="headerlink" href="#nlpnewt.events.Document.document_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The event-unique identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.events.Document.event">
<code class="descname">event</code><a class="headerlink" href="#nlpnewt.events.Document.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the parent event of this document.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The event object which contains this document.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#nlpnewt.events.Event" title="nlpnewt.events.Event">Event</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.events.Document.get_label_index">
<code class="descname">get_label_index</code><span class="sig-paren">(</span><em>label_index_name: str</em>, <em>*</em>, <em>label_type_id: str = None</em><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex<a class="reference internal" href="_modules/nlpnewt/events.html#Document.get_label_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Document.get_label_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the document’s label index with the specified key, fetching it from the
service if it is not cached locally.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_index_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the label index to get.</p></li>
<li><p><strong>label_type_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The identifier that a <a class="reference internal" href="#nlpnewt.events.ProtoLabelAdapter" title="nlpnewt.events.ProtoLabelAdapter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProtoLabelAdapter</span></code></a> was registered with
<code class="xref py py-func docutils literal notranslate"><span class="pre">proto_label_adapter()</span></code>. It will be used to deserialize the labels in the index.
If not set, the adapter for <code class="xref py py-obj docutils literal notranslate"><span class="pre">GenericLabel</span></code> will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>LabelIndex object containing the labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.events.Document.get_labeler">
<code class="descname">get_labeler</code><span class="sig-paren">(</span><em>label_index_name: str</em>, <em>*</em>, <em>distinct: bool = None</em>, <em>label_type_id: str = None</em><span class="sig-paren">)</span> &#x2192; Labeler<a class="reference internal" href="_modules/nlpnewt/events.html#Document.get_labeler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Document.get_labeler" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a function that can be used to add labels to a label index.</p>
<p>If the label id is not specified it will use <code class="xref py py-obj docutils literal notranslate"><span class="pre">GenericLabel</span></code>, otherwise it will
look for a custom <a class="reference internal" href="#nlpnewt.events.ProtoLabelAdapter" title="nlpnewt.events.ProtoLabelAdapter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProtoLabelAdapter</span></code></a> registered using <code class="xref py py-func docutils literal notranslate"><span class="pre">proto_label_adapter()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_index_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A document-unique identifier for the label index to be created.</p></li>
<li><p><strong>label_type_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional, the string identifier that an adapter has been registered under, or None if
the default, generic labels are being used.</p></li>
<li><p><strong>distinct</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Optional, whether to use GenericLabel or DistinctGenericLabel</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A contextmanager for the labeler, which when used in conjunction with the ‘with’
keyword will automatically handle uploading any added labels to the server</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ContextManager" title="(in Python v3.7)">typing.ContextManager</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">document</span><span class="o">.</span><span class="n">get_labeler</span><span class="p">(</span><span class="s1">&#39;sentences&#39;</span><span class="p">,</span> <span class="n">distinct</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">labeler</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">labeler</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sentence</span> <span class="o">=</span> <span class="n">labeler</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span> <span class="mi">34</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sentence</span><span class="o">.</span><span class="n">sentence_type</span> <span class="o">=</span> <span class="s1">&#39;FRAGMENT&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.events.Document.text">
<code class="descname">text</code><a class="headerlink" href="#nlpnewt.events.Document.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the document text, fetching if it is not cached locally.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The text that the document was created</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="labels-on-text">
<h3>Labels on text<a class="headerlink" href="#labels-on-text" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="nlpnewt.labels.Label">
<em class="property">class </em><code class="descclassname">nlpnewt.labels.</code><code class="descname">Label</code><a class="reference internal" href="_modules/nlpnewt/labels.html#Label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.labels.Label" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstract base class for a label of attributes on text.</p>
<dl class="attribute">
<dt id="nlpnewt.labels.Label.end_index">
<code class="descname">end_index</code><a class="headerlink" href="#nlpnewt.labels.Label.end_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The index after the last character of the text covered by this label.</p>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.labels.Label.get_covered_text">
<code class="descname">get_covered_text</code><span class="sig-paren">(</span><em>text: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/labels.html#Label.get_covered_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.labels.Label.get_covered_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the slice of text from <cite>start_index</cite> to <cite>end_index</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The text to retrieve covered text from.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Substring slice of the text.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">label</span> <span class="o">=</span> <span class="n">labeler</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label</span><span class="o">.</span><span class="n">get_covered_text</span><span class="p">(</span><span class="s2">&quot;The quick brown fox jumped over the lazy dog.&quot;</span><span class="p">)</span>
<span class="go">&quot;The quick&quot;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">label</span> <span class="o">=</span> <span class="n">labeler</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;The quick brown fox jumped over the lazy dog.&quot;</span><span class="p">[</span><span class="n">label</span><span class="o">.</span><span class="n">start_index</span><span class="p">:</span><span class="n">label</span><span class="o">.</span><span class="n">end_index</span><span class="p">]</span>
<span class="go">&quot;The quick&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.labels.Label.location">
<code class="descname">location</code><a class="headerlink" href="#nlpnewt.labels.Label.location" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple of (start_index, end_index).</p>
<p>Used to perform sorting and comparison first based on start_index, then based on end_index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The location of this label in text.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#nlpnewt.labels.Location" title="nlpnewt.labels.Location">Location</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.labels.Label.start_index">
<code class="descname">start_index</code><a class="headerlink" href="#nlpnewt.labels.Label.start_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of the first character of the text covered by this label</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.labels.Location">
<em class="property">class </em><code class="descclassname">nlpnewt.labels.</code><code class="descname">Location</code><a class="reference internal" href="_modules/nlpnewt/labels.html#Location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.labels.Location" title="Permalink to this definition">¶</a></dt>
<dd><p>A location in text.</p>
<p>Used to perform comparison of labels based on their locations.</p>
<dl class="attribute">
<dt id="nlpnewt.labels.Location.start_index">
<code class="descname">start_index</code><a class="headerlink" href="#nlpnewt.labels.Location.start_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The start index inclusive of the location in text.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a> or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.labels.Location.end_index">
<code class="descname">end_index</code><a class="headerlink" href="#nlpnewt.labels.Location.end_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The end index exclusive of the location in text.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a> or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">end_index</code></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">start_index</code></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.events.Labeler">
<em class="property">class </em><code class="descclassname">nlpnewt.events.</code><code class="descname">Labeler</code><span class="sig-paren">(</span><em>client</em>, <em>document</em>, <em>label_index_name</em>, <em>label_type_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#Labeler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Labeler" title="Permalink to this definition">¶</a></dt>
<dd><p>Object provided by <a class="reference internal" href="#nlpnewt.events.Document.get_labeler" title="nlpnewt.events.Document.get_labeler"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_labeler()</span></code></a> which is responsible for adding labels to a
label index on a document.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericLabel</span></code></dt><dd><p>The default Label type used if another registered label type is not specified.</p>
</dd>
</dl>
</div>
<dl class="method">
<dt id="nlpnewt.events.Labeler.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; L<a class="reference internal" href="_modules/nlpnewt/events.html#Labeler.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.Labeler.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the constructor for the label type adding it to the list of labels to be uploaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Arguments raise passed to the label type’s constructor.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments passed to the label type’s constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The object that was created by the label type’s constructor.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.labels.Label" title="nlpnewt.labels.Label">Label</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labeler</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">some_field</span><span class="o">=</span><span class="s1">&#39;some_value&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">GenericLabel(start_index=0, end_index=25, some_field=&#39;some_value&#39;, x=3)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.GenericLabel">
<em class="property">class </em><code class="descclassname">nlpnewt.</code><code class="descname">GenericLabel</code><span class="sig-paren">(</span><em>start_index: int</em>, <em>end_index: int</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/labels.html#GenericLabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.GenericLabel" title="Permalink to this definition">¶</a></dt>
<dd><p>Default implementation of the Label class which uses a dictionary to store attributes.</p>
<p>Will be suitable for the majority of use cases for labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>required</em>) – The index of the first character in text to be included in the label.</p></li>
<li><p><strong>end_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>required</em>) – The index after the last character in text to be included in the label.</p></li>
<li><p><strong>kwargs</strong> (<em>dynamic</em>) – Any other fields that should be added to the label.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pos_tag</span> <span class="o">=</span> <span class="n">pos_tag_labeler</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_tag</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="s1">&#39;NNS&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_tag</span><span class="o">.</span><span class="n">tag</span>
<span class="go">&#39;NNS&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pos_tag2</span> <span class="o">=</span> <span class="n">pos_tag_labeler</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;VB&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_tag2</span><span class="o">.</span><span class="n">tag</span>
<span class="go">&#39;VB&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="nlpnewt.GenericLabel.__setattr__">
<code class="descname">__setattr__</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/labels.html#GenericLabel.__setattr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.GenericLabel.__setattr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the value of a field on the label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the string.</p></li>
<li><p><strong>value</strong> (<em>json serialization compliant</em>) – Some kind of value, must be able to be serialized to json.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.GenericLabel.end_index">
<code class="descname">end_index</code><a class="headerlink" href="#nlpnewt.GenericLabel.end_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The index after the last character of the text covered by this label.</p>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.GenericLabel.start_index">
<code class="descname">start_index</code><a class="headerlink" href="#nlpnewt.GenericLabel.start_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of the first character of the text covered by this label</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.label_indices.LabelIndex">
<em class="property">class </em><code class="descclassname">nlpnewt.label_indices.</code><code class="descname">LabelIndex</code><a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>An immutable sequence of labels ordered by their location in text. By default sorts by
ascending <code class="xref py py-func docutils literal notranslate"><span class="pre">Label.start_index()</span></code> and then by ascending <code class="xref py py-func docutils literal notranslate"><span class="pre">Label.end_index()</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">Document.get_label_index</span></code></dt><dd><p>Method for getting existing label indices.</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">Document.get_labeler</span></code></dt><dd><p>Method for adding new label indexes to documents.</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">Labeler</span></code></dt><dd><p>Object for adding new label indices to documents.</p>
</dd>
</dl>
</div>
<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.__contains__">
<code class="descname">__contains__</code><span class="sig-paren">(</span><em>item: Any</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.__contains__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the item is a label in this label index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item</strong> (<em>Any</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the item is a label and it is in this label index. False if it is not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>idx: Union[int, slice]</em><span class="sig-paren">)</span> &#x2192; Union[L, nlpnewt.label_indices.LabelIndex[~L][L]]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the label at the specified index/slice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.7)"><em>slice</em></a>) – The index of the label to return or a slice of indices to return as a new label index,
or a label to indicate to indicate a location.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Label if a single index, LabelIndex if a slice of indices.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>L or <a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>At index:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sentences</span> <span class="o">=</span> <span class="n">distinct_label_index</span><span class="p">(</span><span class="n">label</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">label</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">label</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">label</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span> <span class="mi">90</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentence</span> <span class="o">=</span> <span class="n">sentences</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
<span class="go">GenericLabel{start_index = 0, end_index = 10}</span>
</pre></div>
</div>
<p>Slice:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sentences</span> <span class="o">=</span> <span class="n">distinct_label_index</span><span class="p">(</span><span class="n">label</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">label</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">label</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">label</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span> <span class="mi">90</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentences</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">LabelIndex[GenericLabel{0, 10}, GenericLabel{11, 40}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">last_two_sentences</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
<span class="go">LabelIndex[GenericLabel{41, 60}, GenericLabel{61, 90}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.__iter__">
<code class="descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator[L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterator of the label objects in this index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.7)">typing.Iterator</a>[<a class="reference internal" href="#nlpnewt.labels.Label" title="nlpnewt.labels.Label">Label</a>]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">sentences_index</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># use sentence</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">sentences_index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">next_sentence</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.__len__">
<code class="descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of labels in this label index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Count of labels in this index.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sentences_index</span><span class="p">)</span>
<span class="go">25</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.__reversed__">
<code class="descname">__reversed__</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator[L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.__reversed__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.__reversed__" title="Permalink to this definition">¶</a></dt>
<dd><p>The labels in this label index in reverse order.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An iterator of the elements in reverse order.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Iterator[L]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.after">
<code class="descname">after</code><span class="sig-paren">(</span><em>x: Union[nlpnewt.labels.Label, float]</em><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.after"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.after" title="Permalink to this definition">¶</a></dt>
<dd><p>A label index containing all labels that are after a label’s location in text
or an index in text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#nlpnewt.labels.Label" title="nlpnewt.labels.Label"><em>Label</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Either a label whose end indicates a text index to use, or the text index itself.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A view of this label index.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a>[L]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.ascending">
<code class="descname">ascending</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.ascending"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.ascending" title="Permalink to this definition">¶</a></dt>
<dd><p>This label index sorted according to ascending start and end index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A view of this label index.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a>[L]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.at">
<code class="descname">at</code><span class="sig-paren">(</span><em>label: Union[nlpnewt.labels.Label, nlpnewt.labels.Location]</em><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.at"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.at" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the labels at the specified label or location.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A view of this label index.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">concepts</span> <span class="o">=</span> <span class="n">standard_label_index</span><span class="p">(</span><span class="n">label</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="n">label</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="n">label</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">term</span> <span class="o">=</span> <span class="n">label</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">concepts</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
<span class="go">standard_label_index([GenericLabel(0, 10, x=1), GenericLabel(0, 10, x=2)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.before">
<code class="descname">before</code><span class="sig-paren">(</span><em>x: Union[nlpnewt.labels.Label, float]</em><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.before"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.before" title="Permalink to this definition">¶</a></dt>
<dd><p>A label index containing all labels that are before a label’s location in text or
an index in text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#nlpnewt.labels.Label" title="nlpnewt.labels.Label"><em>Label</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Either a label whose begin indicates a text index to use, or the text index itself.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A view of this label index.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a>[L]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.beginning_inside">
<code class="descname">beginning_inside</code><span class="sig-paren">(</span><em>x: Union[nlpnewt.labels.Label, float], end: Optional[float] = None</em><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.beginning_inside"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.beginning_inside" title="Permalink to this definition">¶</a></dt>
<dd><p>A label index containing all labels whose begin index is inside the specified span of
text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="#nlpnewt.labels.Label" title="nlpnewt.labels.Label"><em>Label</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Either a label whose location specifies the entire span of text, or the start index of
the span of text.</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The exclusive end index of the span of text if it has not been specified by a label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A view of this label index.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a>[L]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>x: Any</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.count" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of times <cite>x</cite> occurs in the label index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>Any</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>count</strong> – The total number of times that the parameter occurs, or 0 if it doesn’t occur.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.covering">
<code class="descname">covering</code><span class="sig-paren">(</span><em>x: Union[nlpnewt.labels.Label, float], end: Optional[float] = None</em><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.covering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.covering" title="Permalink to this definition">¶</a></dt>
<dd><p>A label index containing all labels that cover / contain the specified span of text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="#nlpnewt.labels.Label" title="nlpnewt.labels.Label"><em>Label</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Either a label whose location specifies the entire span of text, or the start index of
the span of text.</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The exclusive end index of the span of text if it has not been specified by a label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A view of this label index.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a>[L]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.descending">
<code class="descname">descending</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.descending"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.descending" title="Permalink to this definition">¶</a></dt>
<dd><p>This label index sorted according to descending start index and ascending end index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A view of this label index.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a>[L]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.label_indices.LabelIndex.distinct">
<code class="descname">distinct</code><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.distinct" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this label index is distinct, i.e. all of the labels in it are non-overlapping,
or not distinct.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if distinct, False if not.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>x: Any</em>, <em>start: int = Ellipsis</em>, <em>end: int = Ellipsis</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.index" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of the first occurrence of <cite>x</cite> in the label index at or after <cite>start</cite>
and before <cite>end</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Any</em>) – </p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – Inclusive start index.</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – Exclusive end index.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>index</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If x is not found in this label index.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.label_indices.LabelIndex.inside">
<code class="descname">inside</code><span class="sig-paren">(</span><em>x: Union[nlpnewt.labels.Label, float], end: Optional[float] = None</em><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/label_indices.html#LabelIndex.inside"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.label_indices.LabelIndex.inside" title="Permalink to this definition">¶</a></dt>
<dd><p>A label index containing all labels that are inside the specified span of text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="#nlpnewt.labels.Label" title="nlpnewt.labels.Label"><em>Label</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Either a label whose location specifies the entire span of text, or the start index of
the span of text.</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The exclusive end index of the span of text if it has not been specified by a label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A view of this label index.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a>[L]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="custom-label-types">
<h3>Custom Label Types<a class="headerlink" href="#custom-label-types" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="nlpnewt.proto_label_adapter">
<code class="descclassname">nlpnewt.</code><code class="descname">proto_label_adapter</code><span class="sig-paren">(</span><em>label_type_id: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#proto_label_adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.proto_label_adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ProtoLabelAdapter</span></code> for a specific identifier.</p>
<p>When that id is referenced in the document <code class="xref py py-func docutils literal notranslate"><span class="pre">get_labeler()</span></code>
and  <code class="xref py py-func docutils literal notranslate"><span class="pre">get_label_index()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>label_type_id</strong> (<em>hashable</em>) – This can be anything as long as it is hashable, good choices are strings or the label types
themselves if they are concrete classes.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Decorator object which invokes the callable to create the label adapter.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>decorator</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@nlpnewt</span><span class="o">.</span><span class="n">proto_label_adapter</span><span class="p">(</span><span class="s2">&quot;example.Sentence&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">SentenceAdapter</span><span class="p">(</span><span class="n">nlpnewt</span><span class="o">.</span><span class="n">ProtoLabelAdapter</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="c1"># ... implementation of the ProtoLabelAdapter for sentences.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">document</span><span class="o">.</span><span class="n">get_labeler</span><span class="p">(</span><span class="s2">&quot;sentences&quot;</span><span class="p">,</span> <span class="s2">&quot;example.Sentence&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">labeler</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># add labels</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">label_index</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">get_label_index</span><span class="p">(</span><span class="s2">&quot;sentences&quot;</span><span class="p">,</span> <span class="s2">&quot;example.Sentence&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># do something with labels</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="nlpnewt.events.ProtoLabelAdapter">
<em class="property">class </em><code class="descclassname">nlpnewt.events.</code><code class="descname">ProtoLabelAdapter</code><a class="reference internal" href="_modules/nlpnewt/events.html#ProtoLabelAdapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.ProtoLabelAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Responsible for serialization and deserialization of non-standard label types.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">proto_label_adapter</span></code></dt><dd><p>The decorator that stores proto label adapters for use.</p>
</dd>
</dl>
</div>
<dl class="method">
<dt id="nlpnewt.events.ProtoLabelAdapter.add_to_message">
<code class="descname">add_to_message</code><span class="sig-paren">(</span><em>labels: List[L], request: nlpnewt.api.v1.events_pb2.AddLabelsRequest</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/events.html#ProtoLabelAdapter.add_to_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.ProtoLabelAdapter.add_to_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a list of labels to the request to the event service to add labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<em>List</em><em>[</em><em>L</em><em>]</em>) – The list of labels that need to be sent to the server.</p></li>
<li><p><strong>request</strong> (<em>events_pb2.AddLabelsRequest</em>) – The request that will be sent to the server.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.events.ProtoLabelAdapter.create_index_from_response">
<code class="descname">create_index_from_response</code><span class="sig-paren">(</span><em>response: nlpnewt.api.v1.events_pb2.GetLabelsResponse</em><span class="sig-paren">)</span> &#x2192; nlpnewt.label_indices.LabelIndex[~L][L]<a class="reference internal" href="_modules/nlpnewt/events.html#ProtoLabelAdapter.create_index_from_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.ProtoLabelAdapter.create_index_from_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a LabelIndex from the response from an events service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>response</strong> (<em>events_pb2.GetLabelsResponse</em>) – The response from the events service.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A label index containing all the labels from the events service.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nlpnewt.label_indices.LabelIndex" title="nlpnewt.label_indices.LabelIndex">LabelIndex</a>[L]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.events.ProtoLabelAdapter.create_label">
<code class="descname">create_label</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; L<a class="reference internal" href="_modules/nlpnewt/events.html#ProtoLabelAdapter.create_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.events.ProtoLabelAdapter.create_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by labelers to create labels.</p>
<p>Should include the positional arguments ‘start_index’ and ‘end_index’, because those are
required properties of labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>Any</em>) – args you want your labeler to take.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) – kwargs you want your labeler to take.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The label type.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>L</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="creating-processors">
<h3>Creating Processors<a class="headerlink" href="#creating-processors" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="nlpnewt.processor">
<code class="descclassname">nlpnewt.</code><code class="descname">processor</code><span class="sig-paren">(</span><em>name: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#processor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator which attaches a service name to a processor for launching with the nlpnewt command
line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>Identifying service name both for launching via command line and for service registration.</p>
<p>Should be a mix of alphanumeric characters and dashes so that they play nice with the DNS
name requirements of stuff like Consul.</p>
<p>This can be modified for service registration at runtime by overriding
:func:’Processor.registration_processor_name’.</p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This decorator should be applied to a 0-arg or 1-arg functions.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>decorator</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@processor</span><span class="p">(</span><span class="s1">&#39;example-text-converter&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">TextConverter</span><span class="p">(</span><span class="n">EventProcessor</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># not necessary to have arguments parameter.</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@processor</span><span class="p">(</span><span class="s1">&#39;example-sentence-detector&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">SentenceDetector</span><span class="p">(</span><span class="n">DocumentProcessor</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">processor_context</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># parse and use args</span>
</pre></div>
</div>
<p>These are all valid ways of registering processors.</p>
</dd></dl>

<dl class="class">
<dt id="nlpnewt.processing.EventProcessor">
<em class="property">class </em><code class="descclassname">nlpnewt.processing.</code><code class="descname">EventProcessor</code><a class="reference internal" href="_modules/nlpnewt/processing.html#EventProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.EventProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for an event processor.</p>
<p>Implementation should either have the default constructor or one which takes a single argument
of type <a class="reference internal" href="#nlpnewt.processing.ProcessorContext" title="nlpnewt.processing.ProcessorContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorContext</span></code></a>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExampleProcessor</span><span class="p">(</span><span class="n">EventProcessor</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">Event</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="k">pass</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExampleProcessor</span><span class="p">(</span><span class="n">EventProcessor</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">processor_context</span><span class="p">:</span> <span class="n">ProcessorContext</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="n">processor_context</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">Event</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">stopwatch</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="c1"># use stopwatch</span>
</pre></div>
</div>
<dl class="method">
<dt id="nlpnewt.processing.EventProcessor.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#EventProcessor.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.EventProcessor.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for cleaning up anything that needs to be cleaned up.</p>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.processing.EventProcessor.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>event: nlpnewt.events.Event, params: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; Optional[Dict[str, Any]]<a class="reference internal" href="_modules/nlpnewt/processing.html#EventProcessor.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.EventProcessor.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs processing on an event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#nlpnewt.events.Event" title="nlpnewt.events.Event"><em>Event</em></a>) – The event object to be processed.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)"><em>typing.Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Processing parameters. A dictionary of strings mapped to json-serializable values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of strings mapped to strings. This likewise may be replaced with a json
struct at a later point.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)">typing.Dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, Any], optional</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.processing.DocumentProcessor">
<em class="property">class </em><code class="descclassname">nlpnewt.processing.</code><code class="descname">DocumentProcessor</code><a class="reference internal" href="_modules/nlpnewt/processing.html#DocumentProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.DocumentProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for a document processor.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExampleProcessor</span><span class="p">(</span><span class="n">DocumentProcessor</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="k">pass</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExampleProcessor</span><span class="p">(</span><span class="n">DocumentProcessor</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">processor_context</span><span class="p">:</span> <span class="n">ProcessorContext</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="n">processor_context</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">stopwatch</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="c1"># use stopwatch</span>
</pre></div>
</div>
<dl class="method">
<dt id="nlpnewt.processing.DocumentProcessor.as_processor">
<code class="descname">as_processor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; nlpnewt.processing.EventProcessor<a class="reference internal" href="_modules/nlpnewt/processing.html#DocumentProcessor.as_processor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.DocumentProcessor.as_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapts this Document processor as event processor by returning an object which has an
event processing method that retrieves the document name using the ‘document_name’
parameter.</p>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.processing.DocumentProcessor.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#DocumentProcessor.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.DocumentProcessor.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for cleaning up anything that needs to be cleaned up.</p>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.processing.DocumentProcessor.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>document: nlpnewt.events.Document, params: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; Optional[Dict[str, Any]]<a class="reference internal" href="_modules/nlpnewt/processing.html#DocumentProcessor.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.DocumentProcessor.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Implemented by the subclass, your processor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>document</strong> (<a class="reference internal" href="#nlpnewt.events.Document" title="nlpnewt.events.Document"><em>Document</em></a>) – The document object to be processed.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)"><em>typing.Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Processing parameters. A dictionary of strings mapped to json-serializable values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of strings mapped to strings. This likewise may be replaced with a json
struct at a later point.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)">typing.Dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, Any], optional</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.processing.ProcessorContext">
<em class="property">class </em><code class="descclassname">nlpnewt.processing.</code><code class="descname">ProcessorContext</code><span class="sig-paren">(</span><em>processor_id, health_servicer, args: List[str]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#ProcessorContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.ProcessorContext" title="Permalink to this definition">¶</a></dt>
<dd><p>A processing context which gets passed to processors.</p>
<dl class="method">
<dt id="nlpnewt.processing.ProcessorContext.args">
<code class="descname">args</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="_modules/nlpnewt/processing.html#ProcessorContext.args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.ProcessorContext.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional arguments from startup.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of string arguments.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.processing.ProcessorContext.stopwatch">
<code class="descname">stopwatch</code><span class="sig-paren">(</span><em>key: str</em><span class="sig-paren">)</span> &#x2192; AbstractContextManager[T_co]<a class="reference internal" href="_modules/nlpnewt/processing.html#ProcessorContext.stopwatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.ProcessorContext.stopwatch" title="Permalink to this definition">¶</a></dt>
<dd><p>An object that can be used to time aspects of processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The key to store the time under</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A context manager object that is used to do the timing.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ContextManager</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># In a process method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">stopwatch</span><span class="p">(</span><span class="s1">&#39;something&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># do work</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.processing.ProcessorContext.update_serving_status">
<code class="descname">update_serving_status</code><span class="sig-paren">(</span><em>status: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#ProcessorContext.update_serving_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.ProcessorContext.update_serving_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the serving status of the processor for health checking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>status</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – One of “SERVING”, “NOT_SERVING”, “UNKNOWN”.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="running-services">
<h3>Running Services<a class="headerlink" href="#running-services" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="nlpnewt.EventsServer">
<em class="property">class </em><code class="descclassname">nlpnewt.</code><code class="descname">EventsServer</code><span class="sig-paren">(</span><em>address</em>, <em>port</em>, <em>register=False</em>, <em>workers=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/_events_service.html#EventsServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.EventsServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Server which hosts events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The address / hostname / IP to host the server on.</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The port to host the server on.</p></li>
<li><p><strong>register</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Whether to register the service with service discovery.</p></li>
<li><p><strong>workers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The number of workers that should handle requests.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="nlpnewt.EventsServer.port">
<code class="descname">port</code><a class="headerlink" href="#nlpnewt.EventsServer.port" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the port that the server is listening on.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Bound port.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.EventsServer.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/_events_service.html#EventsServer.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.EventsServer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the service.</p>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.EventsServer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>*</em>, <em>grace=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/_events_service.html#EventsServer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.EventsServer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>De-registers (if registered with service discovery) the service and immediately stops
accepting requests, completely stopping the service after a specified <cite>grace</cite> time.</p>
<p>During the grace period the server will continue to process existing requests, but it will
not accept any new requests. This function is idempotent, multiple calls will shutdown
the server after the soonest grace to expire, calling the shutdown event for all calls to
this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>grace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) – The grace period that the server should continue processing requests for shutdown.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A shutdown event for the server.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/threading.html#threading.Event" title="(in Python v3.7)">threading.Event</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.ProcessorServer">
<em class="property">class </em><code class="descclassname">nlpnewt.</code><code class="descname">ProcessorServer</code><span class="sig-paren">(</span><em>processor_name: str</em>, <em>address: str</em>, <em>port: int</em>, <em>*</em>, <em>register: bool = False</em>, <em>events_address: str = None</em>, <em>processor_id: str = None</em>, <em>workers: int = None</em>, <em>params: Dict[str</em>, <em>Any] = None</em>, <em>args: List[str] = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#ProcessorServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.ProcessorServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Host a NLP-NEWT processor as a service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>processor_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the processor as regsitered with <a class="reference internal" href="#nlpnewt.processor" title="nlpnewt.processor"><code class="xref py py-func docutils literal notranslate"><span class="pre">processor()</span></code></a>.</p></li>
<li><p><strong>address</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The address / hostname / IP to host the server on.</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The port to host the server on, or 0 to use a random port.</p></li>
<li><p><strong>register</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to register the processor with service discovery.</p></li>
<li><p><strong>events_address</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The address of the events server, or omitted / None if the events service should be
discovered.</p></li>
<li><p><strong>processor_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The identifier to register the processor under, if omitted the processor name will be used.</p></li>
<li><p><strong>workers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The number of workers that should handle requests.</p></li>
<li><p><strong>params</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – A set of default parameters that will be passed to the processor every time it runs.</p></li>
<li><p><strong>args</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Any additional command line arguments that should be passed to the processor on
instantiation.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="nlpnewt.ProcessorServer.port">
<code class="descname">port</code><a class="headerlink" href="#nlpnewt.ProcessorServer.port" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the port that the server is listening on.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Bound port.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.ProcessorServer.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#ProcessorServer.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.ProcessorServer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the service.</p>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.ProcessorServer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>*</em>, <em>grace=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#ProcessorServer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.ProcessorServer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>De-registers (if registered with service discovery) the service and immediately stops
accepting requests, completely stopping the service after a specified <cite>grace</cite> time.</p>
<p>During the grace period the server will continue to process existing requests, but it will
not accept any new requests. This function is idempotent, multiple calls will shutdown
the server after the soonest grace to expire, calling the shutdown event for all calls to
this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>grace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) – The grace period that the server should continue processing requests for shutdown.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A shutdown event for the server.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/threading.html#threading.Event" title="(in Python v3.7)">threading.Event</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="running-a-pipeline">
<h3>Running a pipeline<a class="headerlink" href="#running-a-pipeline" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="nlpnewt.Pipeline">
<em class="property">class </em><code class="descclassname">nlpnewt.</code><code class="descname">Pipeline</code><a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>An object which can be used to build and run a pipeline of remote and local processors.</p>
<p class="rubric">Examples</p>
<p>Remote pipeline with name discovery:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">nlpnewt</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">()</span> <span class="k">as</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">nlpnewt</span><span class="o">.</span><span class="n">Events</span><span class="p">()</span> <span class="k">as</span> <span class="n">events</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pipeline</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="s1">&#39;processor-1-id&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pipeline</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="s1">&#39;processor-2-id&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pipeline</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="s1">&#39;processor-3-id&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">txt</span> <span class="ow">in</span> <span class="n">txts</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">with</span> <span class="n">events</span><span class="o">.</span><span class="n">open_event</span><span class="p">()</span> <span class="k">as</span> <span class="n">event</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">document</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">add_document</span><span class="p">(</span><span class="s1">&#39;plaintext&#39;</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">results</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
</pre></div>
</div>
<p>Remote pipeline using addresses:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">nlpnewt</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">()</span> <span class="k">as</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">nlpnewt</span><span class="o">.</span><span class="n">Events</span><span class="p">(</span><span class="s1">&#39;localhost:50051&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">events</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pipeline</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="s1">&#39;processor-1-name&#39;</span><span class="p">,</span> <span class="s1">&#39;localhost:50052&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pipeline</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="s1">&#39;processor-2-name&#39;</span><span class="p">,</span> <span class="s1">&#39;localhost:50053&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pipeline</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="s1">&#39;processor-3-name&#39;</span><span class="p">,</span> <span class="s1">&#39;localhost:50054&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">txt</span> <span class="ow">in</span> <span class="n">txts</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">event</span> <span class="o">=</span> <span class="n">events</span><span class="o">.</span><span class="n">open_event</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">document</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">add_document</span><span class="p">(</span><span class="s1">&#39;plaintext&#39;</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">results</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
</pre></div>
</div>
<p>The statement</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
</pre></div>
</div>
<p>with a document parameter is an alias for</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">event</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;document_name&#39;</span><span class="p">:</span> <span class="n">document</span><span class="o">.</span><span class="n">document_name</span><span class="p">})</span>
</pre></div>
</div>
<p>The ‘document_name’ param is used to indicate to <code class="xref py py-obj docutils literal notranslate"><span class="pre">DocumentProcessor</span></code> which document on
the event to process.</p>
<dl class="method">
<dt id="nlpnewt.Pipeline.add_local_processor">
<code class="descname">add_local_processor</code><span class="sig-paren">(</span><em>processor</em>, <em>identifier</em>, <em>events</em>, <em>*</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline.add_local_processor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline.add_local_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a processor to the pipeline which will run locally (in the same process as the
pipeline).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>processor</strong> (<a class="reference internal" href="#nlpnewt.processing.EventProcessor" title="nlpnewt.processing.EventProcessor"><em>EventProcessor</em></a>) – The processor instance to run with the pipeline.</p></li>
<li><p><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – An identifier for processor in the context of the pipeline.</p></li>
<li><p><strong>events</strong> (<a class="reference internal" href="#nlpnewt.Events" title="nlpnewt.Events"><em>Events</em></a>) – The events object that will be used to open copies of the event.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) – An optional parameter dictionary that will be passed to the processor as parameters
with every document.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.Pipeline.add_processor">
<code class="descname">add_processor</code><span class="sig-paren">(</span><em>name</em>, <em>address=None</em>, <em>*</em>, <em>identifier=None</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline.add_processor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline.add_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a processor in serial to the pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The processor as declared using the <a class="reference internal" href="#nlpnewt.processor" title="nlpnewt.processor"><code class="xref py py-func docutils literal notranslate"><span class="pre">processor()</span></code></a> decorator.</p></li>
<li><p><strong>address</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally an address to use, will use service discovery configuration to locate
processors if this is None / omitted.</p></li>
<li><p><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – How the processor’s results will be identified locally.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) – An optional parameter dictionary that will be passed to the processor as parameters
with every document.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.Pipeline.as_processor">
<code class="descname">as_processor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; nlpnewt.processing.EventProcessor<a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline.as_processor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline.as_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pipeline as a processor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An event processor that can be added to other pipelines or hosted.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#nlpnewt.processing.EventProcessor" title="nlpnewt.processing.EventProcessor">EventProcessor</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.Pipeline.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes any open connections to remote processors.</p>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.Pipeline.pipeline_timer_stats">
<code class="descname">pipeline_timer_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; nlpnewt.processing.AggregateTimingInfo<a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline.pipeline_timer_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline.pipeline_timer_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>The aggregated statistics for the runtime of the pipeline on the whole.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The timing stats for the pipeline specfically.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#nlpnewt.processing.AggregateTimingInfo" title="nlpnewt.processing.AggregateTimingInfo">AggregateTimingInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.Pipeline.print_times">
<code class="descname">print_times</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline.print_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline.print_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all of the times collected during this pipeline.</p>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.Pipeline.processor_timer_stats">
<code class="descname">processor_timer_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List[nlpnewt.processing.AggregateTimingInfo]<a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline.processor_timer_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline.processor_timer_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the aggregated timing infos for all processors individually.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of AggregateTimingInfo objects, one for each processor, in the same order that
the processors were added to the pipeline.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a>[<a class="reference internal" href="#nlpnewt.processing.AggregateTimingInfo" title="nlpnewt.processing.AggregateTimingInfo">AggregateTimingInfo</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nlpnewt.Pipeline.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>target</em>, <em>*</em>, <em>params=None</em><span class="sig-paren">)</span> &#x2192; List[nlpnewt.processing.ProcessingResult]<a class="reference internal" href="_modules/nlpnewt/processing.html#Pipeline.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Pipeline.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the event/document using all of the processors in the pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference internal" href="#nlpnewt.events.Event" title="nlpnewt.events.Event"><em>Event</em></a><em> or </em><a class="reference internal" href="#nlpnewt.events.Document" title="nlpnewt.events.Document"><em>Document</em></a>) – Either an event or a document to process.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Json object containing params specific to processing this event, the existing params
dictionary defined in <code class="xref py py-func docutils literal notranslate"><span class="pre">add_processor()</span></code> will be updated with
the contents of this dict.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The results of all the processors in the pipeline.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a>[<a class="reference internal" href="#nlpnewt.processing.ProcessingResult" title="nlpnewt.processing.ProcessingResult">ProcessingResult</a>]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The statement</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
</pre></div>
</div>
<p>with a document parameter is an alias for</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">event</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;document_name&#39;</span><span class="p">:</span> <span class="n">document</span><span class="o">.</span><span class="n">document_name</span><span class="p">})</span>
</pre></div>
</div>
<p>The ‘document_name’ param is used to indicate to <code class="xref py py-obj docutils literal notranslate"><span class="pre">DocumentProcessor</span></code> which document on
the event to process.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.processing.ProcessingResult">
<em class="property">class </em><code class="descclassname">nlpnewt.processing.</code><code class="descname">ProcessingResult</code><a class="reference internal" href="_modules/nlpnewt/processing.html#ProcessingResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.ProcessingResult" title="Permalink to this definition">¶</a></dt>
<dd><p>The result of processing one document or event.</p>
<dl class="attribute">
<dt id="nlpnewt.processing.ProcessingResult.created_indices">
<code class="descname">created_indices</code><a class="headerlink" href="#nlpnewt.processing.ProcessingResult.created_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Any indices that have been added to documents by this processor.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.processing.ProcessingResult.identifier">
<code class="descname">identifier</code><a class="headerlink" href="#nlpnewt.processing.ProcessingResult.identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>The id of the processor with respect to the pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.processing.ProcessingResult.results">
<code class="descname">results</code><a class="headerlink" href="#nlpnewt.processing.ProcessingResult.results" title="Permalink to this definition">¶</a></dt>
<dd><p>The json object returned by the processor as its results.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, typing.Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.processing.ProcessingResult.timing_info">
<code class="descname">timing_info</code><a class="headerlink" href="#nlpnewt.processing.ProcessingResult.timing_info" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of the times taken processing this document</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.7)">datetime.timedelta</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.processing.TimerStats">
<em class="property">class </em><code class="descclassname">nlpnewt.processing.</code><code class="descname">TimerStats</code><a class="reference internal" href="_modules/nlpnewt/processing.html#TimerStats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.TimerStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Statistics about a labeled runtime.</p>
<dl class="attribute">
<dt id="nlpnewt.processing.TimerStats.max">
<code class="descname">max</code><a class="headerlink" href="#nlpnewt.processing.TimerStats.max" title="Permalink to this definition">¶</a></dt>
<dd><p>The minimum of all times.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.7)">datetime.timedelta</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.processing.TimerStats.mean">
<code class="descname">mean</code><a class="headerlink" href="#nlpnewt.processing.TimerStats.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>The mean duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.7)">datetime.timedelta</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.processing.TimerStats.min">
<code class="descname">min</code><a class="headerlink" href="#nlpnewt.processing.TimerStats.min" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum of all times.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.7)">datetime.timedelta</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.processing.TimerStats.std">
<code class="descname">std</code><a class="headerlink" href="#nlpnewt.processing.TimerStats.std" title="Permalink to this definition">¶</a></dt>
<dd><p>The standard deviation of all times.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.7)">datetime.timedelta</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.processing.TimerStats.sum">
<code class="descname">sum</code><a class="headerlink" href="#nlpnewt.processing.TimerStats.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>The sum of all times.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.7)">datetime.timedelta</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nlpnewt.processing.AggregateTimingInfo">
<em class="property">class </em><code class="descclassname">nlpnewt.processing.</code><code class="descname">AggregateTimingInfo</code><a class="reference internal" href="_modules/nlpnewt/processing.html#AggregateTimingInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.processing.AggregateTimingInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Collection of all of the timing info for a specific processor.</p>
<dl class="attribute">
<dt id="nlpnewt.processing.AggregateTimingInfo.identifier">
<code class="descname">identifier</code><a class="headerlink" href="#nlpnewt.processing.AggregateTimingInfo.identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the processor with respect to the pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="nlpnewt.processing.AggregateTimingInfo.timing_info">
<code class="descname">timing_info</code><a class="headerlink" href="#nlpnewt.processing.AggregateTimingInfo.timing_info" title="Permalink to this definition">¶</a></dt>
<dd><p>A map from all of the timer labels to their aggregate values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference internal" href="#nlpnewt.processing.TimerStats" title="nlpnewt.processing.TimerStats">TimerStats</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="nlpnewt.Config">
<em class="property">class </em><code class="descclassname">nlpnewt.</code><code class="descname">Config</code><a class="reference internal" href="_modules/nlpnewt/_config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>The nlpnewt configuration dictionary.</p>
<p>By default configuration is loaded from one of a number of locations in the following priority:</p>
<blockquote>
<div><ul class="simple">
<li><p>A file at the path of the ‘–config’ parameter passed into main methods.</p></li>
<li><p>A file at the path of the ‘NEWT_CONFIG’ environment variable</p></li>
<li><p>$PWD/newtConfig.yml</p></li>
<li><p>$HOME/.newt/newtConfig.yml’</p></li>
<li><p>etc/newt/newtConfig.yml</p></li>
</ul>
</div></blockquote>
<p>Nlpnewt components will use a global shared configuration object, by entering the context of a
config object using “with”, all of the nlpnewt functions called on that thread will make use of
that config object.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">nlpnewt</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span> <span class="k">as</span> <span class="n">config</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">config</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># other nlpnewt methods in this</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># block will use the updated config object.</span>
</pre></div>
</div>
<dl class="method">
<dt id="nlpnewt.Config.update_from_yaml">
<code class="descname">update_from_yaml</code><span class="sig-paren">(</span><em>path: Union[pathlib.Path, str]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpnewt/_config.html#Config.update_from_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nlpnewt.Config.update_from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the configuration by loading and collapsing all of the structures in a yaml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The path to the yaml file to load.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to nlpnewt’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Regents of the University of Minnesota

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>